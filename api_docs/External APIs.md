These APIs are written on the following assumptions:
 - The server can serve multiple rooms.
 - All streams are accessible to all rooms, it's up to the UI to hide the irrelevant ones.

All endpoints should support CORS and `OPTIONS` requests. All GET requests
should support HEAD requests also.



Authentication
--------------

- POST `/login`
  - **Request:** Form data `username` and `password`
  - **Response:** A JSON object containing either failure information(`{"error":"..."}`) or a JWT token(`{"jwt":"..."}`).

This will be provided as an endpoint that a client can POST a username and
password to and recieve back a a JWT token that must to all other endpoints
as a `Bearer` token in an `Authorization` header. Due to the limitaions on opening a **WEBSOCKET**, the JWT token can be sent using the query parameter `access_token`

Stream Information
------------------

 - **GET** `/streams`
   - **Response:** A JSON object mapping stream name to it's information(described above)

 - **WEBSOCKET** `/streams/watch` -
   - On connection to this endpoint the server will send the current `streams`(identical to requesting GET `/streams`) using the message type `streams`.
   - Then on any subsequent changes to any stream(addition, removal, or modification), a message containing the new `streams` map will be sent also using the message type `streams`.

All streams are named using a unique string. A 'stream' object contains the following information:
```json
{
  "name": "output",
  "stream_url": "...",
  "origin": "(raw|mixed)",  // raw   = input(like mic or camera)
                            // mixed = output from a room.
  "type": "(audio|video|av)",
}
```

This means that **GET** `/streams` will respond with:
```json
{
  "Hallway Camera": {
    "name": "Hallway Camera",
    "stream_url": "http://bugeye.server/streaming/hallway-camera.webm",
    "origin": "raw",
    "type": "av"
  },
  "Room 1 - Camera": {
    "name": "Room 1 - Camera",
    "stream_url": "http://room1-camera.server/stream.webm",
    "origin": "raw",
    "type": "av"
  },
  "Room 1 - Screen": {
    "name": "Room 1 - Screen",
    "stream_url": "http://bugeye.server/streaming/room1-screen.webm",
    "origin": "raw",
    "type": "video"
  },
  "Room 1 - Output": {
    "name": "Room 1 - Output",
    "stream_url": "http://bugeye.server/streaming/mixed/room1-output.webm",
    "origin": "mixed",
    "type": "av"
  }
}
```

Room Information
----------------

 - **GET** `/rooms`
   - **Response:** A JSON object mapping the room name to the basic room information.

All rooms are named using a unique string. They also contain the following basic object:
```json
{
  "name": "...", // This is a display name - E.G. "Breakout Room 1(Level 2)".
  "url_name": "...",  // This is the string to use in the url(later). It is
                      // generated by the server - E.G. "breakout-room-1"
  "output_stream": "<<Stream Name>>", // May not be present if there is no output.
  "talks": { // Maybe???
  }
}
```

This means that **GET** `/rooms` will respond with:

```json
{
  "Breakout Room 1(Level 2)": {
    "name": "Breakout Room 1(Level 2)",
    "url_name": "room-1",
    "output_stream": "Room 1 - Output",
  },
  "Test Room": {
    "name": "Test Room",
    "url_name": "test-room",
  }
}
```

Mixing in a room
----------------

 - **GET** `/room/<ROOM NAME>/state`
   - **Response:** A snapshot of the room's state.
 - **GET** `/room/<ROOM NAME>/state`
   - **Response:** A snapshot of the room's state.
 - **GET** `/room/<ROOM NAME>/state`
   - **Response:** A snapshot of the room's state.
 - **GET** `/room/<ROOM NAME>/talks`
 - **WEBSOCKET** `/room/<ROOM NAME>/watch`
   - This will provide a single point of contact for all state, note and stream changes.
   - **Message:** `config`
     -
   - **Message:** `layout`
     - Indicates the displayed streams and their display order - so that they are consistant.
   - **Message:** `notes`
     - A server-bound message can be sent(in the same format as to `note`) to create a new note.
     - A client-bound message is sent when a note in this room is added, removed or modified. It contains the same content as **GET** `/room/<ROOM NAME>/notes`
   - **Message:** `state`
     - A server-bound message is sent to update the mixer's state(change video, audio, pip streams).
     - A client-bound message is sent when another client makes a change to the mixer's state. It contains the same content as **GET** `/room/<ROOM NAME>/state`
   - **Message:** `streams`
     - A client-bound message is sent when stream information changes. See: **WEBSOCKET** `/streams/watch`.
